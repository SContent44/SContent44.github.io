(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[10],{

/***/ "../durandal-es6/plugins/widget.js":
/*!*****************************************!*\
  !*** ../durandal-es6/plugins/widget.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol */ \"../../node_modules/core-js/modules/es.symbol.js\");\n/* harmony import */ var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.description */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n/* harmony import */ var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n/* harmony import */ var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.iterator */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n/* harmony import */ var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.function.name */ \"../../node_modules/core-js/modules/es.function.name.js\");\n/* harmony import */ var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.iterator */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n/* harmony import */ var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var knockout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! knockout */ \"../../node_modules/knockout/build/output/knockout-latest.js\");\n/* harmony import */ var knockout__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(knockout__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _core_system__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/system */ \"../durandal-es6/core/system.js\");\n/* harmony import */ var _core_composition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/composition */ \"../durandal-es6/core/composition.js\");\n\n\n\n\n\n\n\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-disable no-param-reassign */\n\n\n\n/**\n * Layers the widget sugar on top of the composition system.\n * @module widget\n * @requires knockout\n * @requires system\n * @requires composition\n */\n\nfunction WidgetModule() {\n  var kindModuleMaps = {};\n  var bindableSettings = [\"model\", \"view\", \"kind\"];\n  var widgetDataKey = \"durandal-widget-data\";\n\n  function extractParts(element, settings) {\n    var data = knockout__WEBPACK_IMPORTED_MODULE_8___default.a.utils.domData.get(element, widgetDataKey);\n\n    if (!data) {\n      data = {\n        parts: _core_composition__WEBPACK_IMPORTED_MODULE_10__[\"default\"].cloneNodes(knockout__WEBPACK_IMPORTED_MODULE_8___default.a.virtualElements.childNodes(element))\n      };\n      knockout__WEBPACK_IMPORTED_MODULE_8___default.a.virtualElements.emptyNode(element);\n      knockout__WEBPACK_IMPORTED_MODULE_8___default.a.utils.domData.set(element, widgetDataKey, data);\n    }\n\n    settings.parts = data.parts;\n  }\n  /**\n   * @class WidgetModule\n   * @static\n   */\n\n\n  var widget = {\n    getSettings: function getSettings(valueAccessor) {\n      var settings = knockout__WEBPACK_IMPORTED_MODULE_8___default.a.utils.unwrapObservable(valueAccessor()) || {};\n\n      if (_core_system__WEBPACK_IMPORTED_MODULE_9__[\"default\"].isString(settings)) {\n        return {\n          kind: settings\n        };\n      }\n\n      for (var attrName in settings) {\n        if (knockout__WEBPACK_IMPORTED_MODULE_8___default.a.utils.arrayIndexOf(bindableSettings, attrName) != -1) {\n          settings[attrName] = knockout__WEBPACK_IMPORTED_MODULE_8___default.a.utils.unwrapObservable(settings[attrName]);\n        } else {\n          settings[attrName] = settings[attrName];\n        }\n      }\n\n      return settings;\n    },\n\n    /**\n     * Creates a ko binding handler for the specified kind.\n     * @method registerKind\n     * @param {string} kind The kind to create a custom binding handler for.\n     */\n    registerKind: function registerKind(kind) {\n      var kindName = kind.name;\n      _core_system__WEBPACK_IMPORTED_MODULE_9__[\"default\"].acquire(kind).then(function (resolvedModule) {\n        kindModuleMaps[kindName] = resolvedModule && (typeof transition === \"undefined\" ? \"undefined\" : _typeof(transition)) === \"object\" && resolvedModule.__esModule && resolvedModule.default ? resolvedModule.default : resolvedModule;\n        knockout__WEBPACK_IMPORTED_MODULE_8___default.a.bindingHandlers[kindName] = {\n          init: function init() {\n            return {\n              controlsDescendantBindings: true\n            };\n          },\n          update: function update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n            var settings = widget.getSettings(valueAccessor);\n            settings.kind = kindName;\n            extractParts(element, settings);\n            widget.create(element, settings, bindingContext, true);\n          }\n        };\n        knockout__WEBPACK_IMPORTED_MODULE_8___default.a.virtualElements.allowedBindings[kindName] = true;\n        _core_composition__WEBPACK_IMPORTED_MODULE_10__[\"default\"].composeBindings.push(\"\".concat(kindName, \":\"));\n      });\n    },\n\n    /**\n     * Maps a kind name to it's module id. First it looks up a custom mapped kind, then falls back to `convertKindToModulePath`.\n     * @method mapKindToModuleId\n     * @param {string} kind The kind name.\n     * @return {string} The module id.\n     */\n    mapKindToModule: function mapKindToModule(kind) {\n      var module = kindModuleMaps[kind];\n\n      if (!module) {\n        _core_system__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(\"Missing or invalid widget requested: \".concat(kind));\n      }\n\n      return module;\n    },\n\n    /**\n     * Converts a kind name to it's view id. Used to conventionally map kinds who aren't explicitly mapped through `mapKind`.\n     * @method convertKindToViewPath\n     * @param {string} kind The kind name.\n     * @return {string} The view id.\n     */\n    convertKindToViewPath: function convertKindToViewPath(kind) {\n      return \"widgets/\".concat(kind, \"/view\");\n    },\n    createCompositionSettings: function createCompositionSettings(element, settings) {\n      /* Always use the model defined for the kind\n      if (!settings.model) {\n          settings.model = this.mapKindToModule(settings.kind);\n      } */\n      settings.model = this.mapKindToModule(settings.kind); // Prevent doing inline view strings\n\n      if (settings.view) {\n        settings.view = undefined;\n      }\n\n      settings.preserveContext = true;\n      settings.activate = true;\n      settings.activationData = settings;\n      settings.mode = \"templated\";\n      return settings;\n    },\n\n    /**\n     * Creates a widget.\n     * @method create\n     * @param {DOMElement} element The DOMElement or knockout virtual element that serves as the target element for the widget.\n     * @param {object} settings The widget settings.\n     * @param {object} [bindingContext] The current binding context.\n     */\n    create: function create(element, settings, bindingContext, fromBinding) {\n      if (!fromBinding) {\n        settings = widget.getSettings(function () {\n          return settings;\n        }, element);\n      }\n\n      var compositionSettings = widget.createCompositionSettings(element, settings);\n      _core_composition__WEBPACK_IMPORTED_MODULE_10__[\"default\"].compose(element, compositionSettings, bindingContext);\n    },\n\n    /**\n     * Installs the widget module by adding the widget binding handler and optionally registering kinds.\n     * @method install\n     * @param {object} config The module config. Add a `kinds` array with the names of widgets to automatically register. You can also specify a `bindingName` if you wish to use another name for the widget binding, such as \"control\" for example.\n     */\n    install: function install(config) {\n      config.bindingName = config.bindingName || \"widget\";\n\n      if (config.kinds) {\n        var toRegister = config.kinds;\n\n        for (var i = 0; i < toRegister.length; i++) {\n          widget.registerKind(toRegister[i]);\n        }\n      }\n\n      knockout__WEBPACK_IMPORTED_MODULE_8___default.a.bindingHandlers[config.bindingName] = {\n        init: function init() {\n          return {\n            controlsDescendantBindings: true\n          };\n        },\n        update: function update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n          var settings = widget.getSettings(valueAccessor);\n          extractParts(element, settings);\n          widget.create(element, settings, bindingContext, true);\n        }\n      };\n      _core_composition__WEBPACK_IMPORTED_MODULE_10__[\"default\"].composeBindings.push(\"\".concat(config.bindingName, \":\"));\n      knockout__WEBPACK_IMPORTED_MODULE_8___default.a.virtualElements.allowedBindings[config.bindingName] = true;\n    }\n  };\n  return widget;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new WidgetModule());\n\n//# sourceURL=webpack:///../durandal-es6/plugins/widget.js?");

/***/ })

}]);